{"ast":null,"code":"var _jsxFileName = \"/Users/vickywong/Documents/doggo-mart/src/Components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\"; // import HomepageOverview from \"./Hooks/HomepageOverview\";\n// import React, { useState, useEffect } from \"react\";\n\nfunction Home(props) {\n  // this.state = { products: [], filteredProducts: [], cartItems: [] };\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    //fetching products from localhost\n    fetch(\"http://localhost:8000/products\").then(res => res.json()).then(data => {\n      this.setState({\n        products: data,\n        filteredProducts: data\n      });\n    }); //shopping cart item \n\n    if (localStorage.getItem('cartItems')) {\n      this.setState({\n        cartItems: JSON.parse(localStorage.getItem('cartItems'))\n      });\n    }\n  }, []);\n\n  const handleAddToCart = (e, product) => {\n    this.setState(state => {\n      const cartItems = state.cartItems;\n      let productAlreadyInCart = false;\n      cartItems.forEach(item => {\n        if (item.id === product.id) {\n          productAlreadyInCart = true;\n          item.count++;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartItems.push({ ...product,\n          count: 1\n        });\n      }\n\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n      return cartItems;\n    });\n  };\n\n  const handleRemoveFromCart = (e, item) => {\n    this.setState(state => {\n      const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n      localStorage.setItem('cartItems', cartItems);\n      return {\n        cartItems: cartItems\n      };\n    });\n  };\n\n  const listProducts = () => {\n    this.setState(state => {\n      if (state.sort !== \"\") {\n        state.products.sort((a, b) => state.sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n      } else {\n        state.products.sort((a, b) => a.id > b.id ? 1 : -1);\n      } // if (state.size !== \"\") {\n      //   return {\n      //     filteredProducts: state.products.filter(\n      //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n      //     )\n      //   };\n      // }\n\n\n      return {\n        filteredProducts: state.products\n      };\n    });\n  };\n\n  const handleChangeSort = e => {\n    this.setState({\n      sort: e.target.value\n    });\n    this.listProducts();\n  }; // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"homepage-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Discover better-for-you Doggos\"), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Filter // size={this.state.size}\n  // sort={this.state.sort}\n  // handleChangeSize={this.handleChangeSize}\n  , {\n    handleChangeSort: this.handleChangeSort // count={this.state.filteredProducts.length}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(Products // products={this.state.filteredProducts}\n  , {\n    handleAddToCart: this.handleAddToCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Basket // cartItems={this.state.cartItems}\n  , {\n    handleRemoveFromCart: this.handleRemoveFromCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vickywong/Documents/doggo-mart/src/Components/Home.js"],"names":["React","useState","useEffect","Products","Container","Row","Col","CardDeck","Banner","Filter","Basket","Home","props","products","setProducts","filteredProducts","setFilteredProducts","cartItems","setCartItems","fetch","then","res","json","data","setState","localStorage","getItem","JSON","parse","handleAddToCart","e","product","state","productAlreadyInCart","forEach","item","id","count","push","setItem","stringify","handleRemoveFromCart","filter","elm","listProducts","sort","a","b","price","handleChangeSort","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\";\n// import HomepageOverview from \"./Hooks/HomepageOverview\";\n// import React, { useState, useEffect } from \"react\";\n\nfunction Home(props) {\n\n    // this.state = { products: [], filteredProducts: [], cartItems: [] };\n    const [products, setProducts] = useState([]);\n    const [filteredProducts, setFilteredProducts] = useState([]);\n    const [cartItems, setCartItems] = useState([]);\n\n\n  useEffect(() => {\n       //fetching products from localhost\n    fetch(\"http://localhost:8000/products\")\n    .then((res) => res.json())\n    .then((data) => {\n      this.setState({ products: data, filteredProducts: data });\n    });\n    //shopping cart item \n    if(localStorage.getItem('cartItems')){\n      this.setState({cartItems: JSON.parse(localStorage.getItem('cartItems'))})\n    }\n   }, [])\n\n\n\n  const handleAddToCart = (e, product) => {\n    this.setState((state) => {\n      const cartItems = state.cartItems;\n      let productAlreadyInCart = false;\n      cartItems.forEach((item) => {\n        if (item.id === product.id) {\n          productAlreadyInCart = true;\n          item.count++;\n        }\n      });\n      if (!productAlreadyInCart) {\n        cartItems.push({ ...product, count: 1 });\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n      return cartItems;\n    });\n  };\n\n  const handleRemoveFromCart =(e, item)=> {\nthis.setState(state => {\n  const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n  localStorage.setItem('cartItems', cartItems);\n  return { cartItems: cartItems };\n})\n  };\n\n\n  const listProducts = () => {\n    this.setState((state) => {\n      if (state.sort !== \"\") {\n        state.products.sort((a, b) =>\n          state.sort === \"lowest\"\n            ? a.price > b.price\n              ? 1\n              : -1\n            : a.price < b.price\n            ? 1\n            : -1\n        );\n      } else {\n        state.products.sort((a, b) => (a.id > b.id ? 1 : -1));\n      }\n      // if (state.size !== \"\") {\n      //   return {\n      //     filteredProducts: state.products.filter(\n      //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n      //     )\n      //   };\n      // }\n      return { filteredProducts: state.products };\n    });\n  };\n\n  const handleChangeSort = (e) => {\n    this.setState({ sort: e.target.value });\n    this.listProducts();\n  };\n\n  // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n\n\n    return (\n      <div>\n        <Banner />\n        <Container>\n          <h1 className=\"homepage-title\">Discover better-for-you Doggos</h1>\n\n          <Row>\n            <Col md={9}>\n              <Filter\n                // size={this.state.size}\n                // sort={this.state.sort}\n                // handleChangeSize={this.handleChangeSize}\n                handleChangeSort={this.handleChangeSort}\n                // count={this.state.filteredProducts.length}\n              />\n\n              <hr />\n\n              {/* <HomepageOverview state={state} setState={setState}/> */}\n              <Products\n                // products={this.state.filteredProducts}\n                handleAddToCart={this.handleAddToCart}\n              />\n            </Col>\n\n            <Col>\n              <Basket\n                // cartItems={this.state.cartItems}\n                handleRemoveFromCart={this.handleRemoveFromCart}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  \n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}