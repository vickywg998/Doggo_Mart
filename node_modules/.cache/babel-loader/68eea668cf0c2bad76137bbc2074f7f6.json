{"ast":null,"code":"var _jsxFileName = \"/Users/vickywong/Documents/doggo-mart/src/Components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\";\nimport Cart from \"./Cart\";\nimport { useCartItems } from \"./Hooks/useCartItems\";\nimport { useUpdateCartItems } from \"./Hooks/useUpdateCartItems\";\nimport { useFavItems } from \"./Hooks/useFavItems\";\nimport { useUpdateFavItems } from \"./Hooks/useUpdateFavItems\";\n\nfunction Home() {\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState(useCartItems()); //setting the cartitems from the useCartITems hook (localstorage)\n\n  const [sortValue, setSortValue] = useState(\"ascending\");\n  const [favItems, setFavItems] = useState(useFavItems());\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch(\"http://localhost:8000/products\");\n      const unsortedProducts = await res.json();\n      const sorted = sortProducts(unsortedProducts, sortValue);\n      setProducts(sorted);\n    };\n\n    fetchData();\n  }, []);\n  const myCartUpdatingFunction = useUpdateCartItems();\n  const myFavUpdatingFunction = useUpdateFavItems();\n\n  const sortProducts = (list, sortValueToUse) => {\n    let sorted = list;\n\n    if (sortValueToUse === \"ascending\") {\n      sorted = list.sort((a, b) => a.price - b.price);\n    }\n\n    if (sortValueToUse === \"descending\") {\n      sorted = list.sort((a, b) => b.price - a.price);\n    }\n\n    return sorted;\n  };\n\n  const updateCartItemsWithHook = newCartItems => {\n    setCartItems(newCartItems);\n    myCartUpdatingFunction(newCartItems);\n  };\n\n  const updateFavItemsWithHook = newFavItems => {\n    setFavItems(newFavItems);\n    myFavUpdatingFunction(newFavItems);\n  }; //newCartItems can be any name, replacing updateCartItemsWithHook(newCartItems); & updateCartItemsWithHook(removedCartItems);\n\n\n  const handleChangeSort = e => {\n    const newSortValue = e.target.value;\n    setSortValue(newSortValue);\n    const sorted = sortProducts(products, newSortValue);\n    setProducts(sorted);\n  };\n\n  const handleAddToCart = product => {\n    const productInCart = cartItems.find(item => item.id === product.id);\n    let newCartItems = [...cartItems];\n\n    if (productInCart) {\n      productInCart.count += 1;\n    } else {\n      const newCartItem = product;\n      newCartItem.count = 1;\n      newCartItems = cartItems.concat(newCartItem);\n    }\n\n    updateCartItemsWithHook(newCartItems);\n  };\n\n  const handleRemoveFromCart = product => {\n    const removedCartItems = cartItems.filter(a => a.id !== product.id);\n    updateCartItemsWithHook(removedCartItems);\n  };\n\n  const handleAddToFav = favItem => {\n    const productInFav = favItems.find(item => item.id === favItem.id);\n    let newFavItems = [...favItems];\n    const newFavItem = favItem;\n    newFavItem.favorited = \"yes\";\n    newFavItems = favItems.concat(newFavItem); // }\n\n    updateFavItemsWithHook(newFavItems);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"homepage-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Meet the World's Cutest Doggos\"), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Filter, {\n    sortValue: sortValue,\n    handleChangeSort: handleChangeSort,\n    count: products.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Products, {\n    products: products,\n    favItems: favItems,\n    setProducts: setProducts,\n    setFavItems: setFavItems,\n    handleAddToCart: handleAddToCart,\n    handleAddToFav: handleAddToFav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Basket, {\n    cartItems: cartItems,\n    handleRemoveFromCart: handleRemoveFromCart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })))), React.createElement(Route, {\n    path: \"/cart\",\n    render: () => React.createElement(Cart, {\n      cartItems: cartItems,\n      handleRemoveFromCart: handleRemoveFromCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vickywong/Documents/doggo-mart/src/Components/Home.js"],"names":["React","useState","useEffect","Route","Products","Container","Row","Col","Banner","Filter","Basket","Cart","useCartItems","useUpdateCartItems","useFavItems","useUpdateFavItems","Home","products","setProducts","cartItems","setCartItems","sortValue","setSortValue","favItems","setFavItems","fetchData","res","fetch","unsortedProducts","json","sorted","sortProducts","myCartUpdatingFunction","myFavUpdatingFunction","list","sortValueToUse","sort","a","b","price","updateCartItemsWithHook","newCartItems","updateFavItemsWithHook","newFavItems","handleChangeSort","e","newSortValue","target","value","handleAddToCart","product","productInCart","find","item","id","count","newCartItem","concat","handleRemoveFromCart","removedCartItems","filter","handleAddToFav","favItem","productInFav","newFavItem","favorited","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\";\nimport Cart from \"./Cart\";\n\nimport { useCartItems } from \"./Hooks/useCartItems\";\nimport { useUpdateCartItems } from \"./Hooks/useUpdateCartItems\";\n\nimport { useFavItems } from \"./Hooks/useFavItems\";\nimport { useUpdateFavItems } from \"./Hooks/useUpdateFavItems\";\n\nfunction Home() {\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState(useCartItems()); //setting the cartitems from the useCartITems hook (localstorage)\n  const [sortValue, setSortValue] = useState(\"ascending\");\n  const [favItems, setFavItems] = useState(useFavItems());\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch(\"http://localhost:8000/products\");\n      const unsortedProducts = await res.json();\n      const sorted = sortProducts(unsortedProducts, sortValue);\n      setProducts(sorted);\n    };\n    fetchData();\n  }, []);\n\n  const myCartUpdatingFunction = useUpdateCartItems();\n  const myFavUpdatingFunction = useUpdateFavItems();\n\n  const sortProducts = (list, sortValueToUse) => {\n    let sorted = list;\n    if (sortValueToUse === \"ascending\") {\n      sorted = list.sort((a, b) => a.price - b.price);\n    }\n    if (sortValueToUse === \"descending\") {\n      sorted = list.sort((a, b) => b.price - a.price);\n    }\n    return sorted;\n  };\n\n  const updateCartItemsWithHook = (newCartItems) => {\n    setCartItems(newCartItems);\n    myCartUpdatingFunction(newCartItems);\n  };\n\n  const updateFavItemsWithHook = (newFavItems) => {\n    setFavItems(newFavItems);\n    myFavUpdatingFunction(newFavItems);\n  };\n  //newCartItems can be any name, replacing updateCartItemsWithHook(newCartItems); & updateCartItemsWithHook(removedCartItems);\n\n  const handleChangeSort = (e) => {\n    const newSortValue = e.target.value;\n    setSortValue(newSortValue);\n    const sorted = sortProducts(products, newSortValue);\n    setProducts(sorted);\n  };\n\n  const handleAddToCart = (product) => {\n    const productInCart = cartItems.find((item) => item.id === product.id);\n    let newCartItems = [...cartItems];\n    if (productInCart) {\n      productInCart.count += 1;\n    } else {\n      const newCartItem = product;\n      newCartItem.count = 1;\n      newCartItems = cartItems.concat(newCartItem);\n    }\n    updateCartItemsWithHook(newCartItems);\n  };\n\n  const handleRemoveFromCart = (product) => {\n    const removedCartItems = cartItems.filter((a) => a.id !== product.id);\n    updateCartItemsWithHook(removedCartItems);\n  };\n\n  const handleAddToFav = (favItem) => {\n    const productInFav = favItems.find((item) => item.id === favItem.id);\n    let newFavItems = [...favItems];\n      const newFavItem = favItem;\n      newFavItem.favorited = \"yes\";\n      newFavItems = favItems.concat(newFavItem);\n    // }\n    updateFavItemsWithHook(newFavItems);\n  };\n\n  return (\n    <div>\n      <Banner />\n      <Container>\n        <h1 className=\"homepage-title\">Meet the World's Cutest Doggos</h1>\n\n        <Row>\n          <Col md={9}>\n            <Filter\n              sortValue={sortValue}\n              handleChangeSort={handleChangeSort}\n              count={products.length}\n            />\n\n            <hr />\n\n            <Products\n              products={products}\n              favItems={favItems}\n              setProducts={setProducts}\n              setFavItems={setFavItems}\n              handleAddToCart={handleAddToCart}\n              handleAddToFav={handleAddToFav}\n            />\n          </Col>\n\n          <Col>\n            <Basket\n              cartItems={cartItems}\n              handleRemoveFromCart={handleRemoveFromCart}\n            />\n          </Col>\n        </Row>\n      </Container>\n      <Route\n        path=\"/cart\"\n        render={() => (\n          <Cart\n            cartItems={cartItems}\n            handleRemoveFromCart={handleRemoveFromCart}\n          />\n        )}\n      />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}