{"ast":null,"code":"var _jsxFileName = \"/Users/vickywong/Documents/doggo-mart/src/Components/Home.js\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\"; // import HomepageOverview from \"./Hooks/HomepageOverview\";\n// import React, { useState, useEffect } from \"react\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAddToCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems;\n        let productAlreadyInCart = false;\n        cartItems.forEach(item => {\n          if (item.id === product.id) {\n            productAlreadyInCart = true;\n            item.count++;\n          }\n        });\n\n        if (!productAlreadyInCart) {\n          cartItems.push({ ...product,\n            count: 1\n          });\n        }\n\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        return cartItems;\n      });\n    };\n\n    this.handleRemoveFromCart = (e, item) => {\n      this.setState(state => {\n        const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n        localStorage.setItem('cartItems', cartItems);\n        return {\n          cartItems: cartItems\n        };\n      });\n    };\n\n    this.listProducts = () => {\n      this.setState(state => {\n        if (state.sort !== \"\") {\n          state.products.sort((a, b) => state.sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n        } else {\n          state.products.sort((a, b) => a.id > b.id ? 1 : -1);\n        } // if (state.size !== \"\") {\n        //   return {\n        //     filteredProducts: state.products.filter(\n        //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n        //     )\n        //   };\n        // }\n\n\n        return {\n          filteredProducts: state.products\n        };\n      });\n    };\n\n    this.handleChangeSort = e => {\n      this.setState({\n        sort: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.state = {\n      products: [],\n      filteredProducts: [],\n      cartItems: []\n    };\n  }\n\n  componentWillMount() {\n    //fetching products from localhost\n    fetch(\"http://localhost:8000/products\").then(res => res.json()).then(data => {\n      this.setState({\n        products: data,\n        filteredProducts: data\n      });\n    }); //shopping cart item \n\n    if (localStorage.getItem('cartItems')) {\n      this.setState({\n        cartItems: JSON.parse(localStorage.getItem('cartItems'))\n      });\n    }\n  }\n\n  // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Banner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"homepage-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Discover better-for-you Doggos\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Filter // size={this.state.size}\n    , {\n      sort: this.state.sort // handleChangeSize={this.handleChangeSize}\n      ,\n      handleChangeSort: this.handleChangeSort,\n      count: this.state.filteredProducts.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Products, {\n      products: this.state.filteredProducts,\n      handleAddToCart: this.handleAddToCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Basket, {\n      cartItems: this.state.cartItems,\n      handleRemoveFromCart: this.handleRemoveFromCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/vickywong/Documents/doggo-mart/src/Components/Home.js"],"names":["React","Component","Products","Container","Row","Col","CardDeck","Banner","Filter","Basket","Home","constructor","props","handleAddToCart","e","product","setState","state","cartItems","productAlreadyInCart","forEach","item","id","count","push","localStorage","setItem","JSON","stringify","handleRemoveFromCart","filter","elm","listProducts","sort","products","a","b","price","filteredProducts","handleChangeSort","target","value","componentWillMount","fetch","then","res","json","data","getItem","parse","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\nimport Basket from \"./Basket\";\n// import HomepageOverview from \"./Hooks/HomepageOverview\";\n// import React, { useState, useEffect } from \"react\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { products: [], filteredProducts: [], cartItems: [] };\n  }\n\n  componentWillMount() {\n    //fetching products from localhost\n    fetch(\"http://localhost:8000/products\")\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({ products: data, filteredProducts: data });\n      });\n      //shopping cart item \n      if(localStorage.getItem('cartItems')){\n        this.setState({cartItems: JSON.parse(localStorage.getItem('cartItems'))})\n      }\n  }\n\n\n  handleAddToCart = (e, product) => {\n    this.setState((state) => {\n      const cartItems = state.cartItems;\n      let productAlreadyInCart = false;\n      cartItems.forEach((item) => {\n        if (item.id === product.id) {\n          productAlreadyInCart = true;\n          item.count++;\n        }\n      });\n      if (!productAlreadyInCart) {\n        cartItems.push({ ...product, count: 1 });\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n      return cartItems;\n    });\n  };\n\n  handleRemoveFromCart =(e, item)=> {\nthis.setState(state => {\n  const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n  localStorage.setItem('cartItems', cartItems);\n  return { cartItems: cartItems };\n})\n  };\n\n\n  listProducts = () => {\n    this.setState((state) => {\n      if (state.sort !== \"\") {\n        state.products.sort((a, b) =>\n          state.sort === \"lowest\"\n            ? a.price > b.price\n              ? 1\n              : -1\n            : a.price < b.price\n            ? 1\n            : -1\n        );\n      } else {\n        state.products.sort((a, b) => (a.id > b.id ? 1 : -1));\n      }\n      // if (state.size !== \"\") {\n      //   return {\n      //     filteredProducts: state.products.filter(\n      //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n      //     )\n      //   };\n      // }\n      return { filteredProducts: state.products };\n    });\n  };\n\n  handleChangeSort = (e) => {\n    this.setState({ sort: e.target.value });\n    this.listProducts();\n  };\n\n  // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n\n  render() {\n    return (\n      <div>\n        <Banner />\n        <Container>\n          <h1 className=\"homepage-title\">Discover better-for-you Doggos</h1>\n\n          <Row>\n            <Col md={9}>\n              <Filter\n                // size={this.state.size}\n                sort={this.state.sort}\n                // handleChangeSize={this.handleChangeSize}\n                handleChangeSort={this.handleChangeSort}\n                count={this.state.filteredProducts.length}\n              />\n\n              <hr />\n\n              {/* <HomepageOverview state={state} setState={setState}/> */}\n              <Products\n                products={this.state.filteredProducts}\n                handleAddToCart={this.handleAddToCart}\n              />\n            </Col>\n\n            <Col>\n              <Basket\n                cartItems={this.state.cartItems}\n                handleRemoveFromCart={this.handleRemoveFromCart}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}