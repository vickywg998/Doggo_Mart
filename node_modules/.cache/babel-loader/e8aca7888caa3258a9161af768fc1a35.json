{"ast":null,"code":"var _jsxFileName = \"/Users/vickywong/Documents/doggo-mart/src/Components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\"; // import Basket from \"./Basket\";\n\nfunction Home(props) {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [sort, setSortItems] = useState([]);\n  const [count, setCount] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch(\"http://localhost:8000/products\"); // console.log(res.json())\n\n      res.json().then(data => setProducts(data)).then(data => setFilteredProducts(data));\n    };\n\n    fetchData();\n  }, []); // const handleAddToCart = (e, product) => {\n  //   this.setState((state) => {\n  //     const cartItems = state.cartItems;\n  //     let productAlreadyInCart = false;\n  //     cartItems.forEach((item) => {\n  //       if (item.id === product.id) {\n  //         productAlreadyInCart = true;\n  //         item.count++;\n  //       }\n  //     });\n  //     if (!productAlreadyInCart) {\n  //       cartItems.push({ ...product, count: 1 });\n  //     }\n  //     localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  //     return cartItems;\n  //   });\n  // };\n  //   const handleRemoveFromCart =(e, item)=> {\n  // this.setState(state => {\n  //   const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n  //   localStorage.setItem('cartItems', cartItems);\n  //   return { cartItems: cartItems };\n  // })\n  //   };\n\n  const listProducts = () => {\n    // if (sort !== \"\") {\n    //   products.sort((a, b) =>\n    //     sort === \"lowest\"\n    //       ? a.price > b.price\n    //         ? 1\n    //         : -1\n    //       : a.price < b.price\n    //       ? 1\n    //       : -1\n    //   );\n    // } \n    if (sort !== \"\") {\n      useEffect(() => {\n        products.sort((a, b) => sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n      }, []);\n    } else {\n      products.sort((a, b) => a.id > b.id ? 1 : -1);\n    } // if (state.size !== \"\") {\n    //   return {\n    //     filteredProducts: state.products.filter(\n    //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n    //     )\n    //   };\n    // }\n\n\n    return {\n      filteredProducts: products\n    };\n  };\n\n  const setHandleChangeSort = e => {\n    setSort(e => e.target.value); // this.setState({ sort: e.target.value });\n\n    this.listProducts();\n  }; // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"homepage-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Discover better-for-you Doggos\"), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Filter // size={this.state.size}\n  , {\n    sort: sort // handleChangeSize={this.handleChangeSize}\n    ,\n    setHandleChangeSort: setHandleChangeSort // count={filteredProducts.length}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(Products, {\n    filteredProducts: filteredProducts,\n    setFilteredProducts: setFilteredProducts,\n    products: products,\n    setProducts: setProducts // handleAddToCart={this.handleAddToCart}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  })), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vickywong/Documents/doggo-mart/src/Components/Home.js"],"names":["React","useState","useEffect","Products","Container","Row","Col","CardDeck","Banner","Filter","Home","props","products","setProducts","filteredProducts","setFilteredProducts","cartItems","setCartItems","sort","setSortItems","count","setCount","fetchData","res","fetch","json","then","data","listProducts","a","b","price","id","setHandleChangeSort","e","setSort","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAO,sCAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,gBAAD,EAAmBC,mBAAnB,IAA0Cd,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACiB,IAAD,EAAOC,YAAP,IAAuBlB,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMoB,SAAS,GAAG,YAAY;AAC5B,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAD,CAAvB,CAD4B,CAE5B;;AACAD,MAAAA,GAAG,CACAE,IADH,GAEGC,IAFH,CAESC,IAAD,IAAUd,WAAW,CAACc,IAAD,CAF7B,EAGGD,IAHH,CAGSC,IAAD,IAAUZ,mBAAmB,CAACY,IAAD,CAHrC;AAID,KAPD;;AAQAL,IAAAA,SAAS;AACV,GAVQ,EAUN,EAVM,CAAT,CAPmB,CAmBjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,QAAMM,YAAY,GAAG,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIV,IAAI,KAAK,EAAb,EAAiB;AACfhB,MAAAA,SAAS,CAAC,MAAM;AACdU,QAAAA,QAAQ,CAACM,IAAT,CAAc,CAACW,CAAD,EAAIC,CAAJ,KACdZ,IAAI,KAAK,QAAT,GACIW,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAZ,GACE,CADF,GAEE,CAAC,CAHP,GAIIF,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAZ,GACA,CADA,GAEA,CAAC,CAPL;AASD,OAVQ,EAUN,EAVM,CAAT;AAWD,KAZD,MAcK;AACHnB,MAAAA,QAAQ,CAACM,IAAT,CAAc,CAACW,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACG,EAAF,GAAOF,CAAC,CAACE,EAAT,GAAc,CAAd,GAAkB,CAAC,CAA5C;AACD,KA5BsB,CA6BvB;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,WAAO;AAAElB,MAAAA,gBAAgB,EAAEF;AAApB,KAAP;AACH,GArCD;;AAuCA,QAAMqB,mBAAmB,GAAIC,CAAD,IAAO;AACjCC,IAAAA,OAAO,CAACD,CAAC,IAAIA,CAAC,CAACE,MAAF,CAASC,KAAf,CAAP,CADiC,CAEjC;;AACA,SAAKT,YAAL;AACD,GAJD,CApFiB,CA0FnB;AACA;AACA;AACA;;;AAEA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EAGE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD,CACA;AADA;AAEA,IAAA,IAAI,EAAEV,IAFN,CAGA;AAHA;AAIA,IAAA,mBAAmB,EAAEe,mBAJrB,CAKA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAYE,oBAAC,QAAD;AACE,IAAA,gBAAgB,EAAEnB,gBADpB;AAEE,IAAA,mBAAmB,EAAEC,mBAFvB;AAGE,IAAA,QAAQ,EAAEH,QAHZ;AAIE,IAAA,WAAW,EAAEC,WAJf,CAKE;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,EAsBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,CAHF,CAFF,CADF;AAsCD;;AAED,eAAeH,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Products from \"./Products\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Banner from \"./Banner\";\nimport Filter from \"./Filter\";\n// import Basket from \"./Basket\";\n\nfunction Home(props) {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [sort, setSortItems] = useState([]);\n  const [count, setCount] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch(\"http://localhost:8000/products\");\n      // console.log(res.json())\n      res\n        .json()\n        .then((data) => setProducts(data))\n        .then((data) => setFilteredProducts(data));\n    };\n    fetchData();\n  }, []);\n\n    // const handleAddToCart = (e, product) => {\n    //   this.setState((state) => {\n    //     const cartItems = state.cartItems;\n    //     let productAlreadyInCart = false;\n    //     cartItems.forEach((item) => {\n    //       if (item.id === product.id) {\n    //         productAlreadyInCart = true;\n    //         item.count++;\n    //       }\n    //     });\n    //     if (!productAlreadyInCart) {\n    //       cartItems.push({ ...product, count: 1 });\n    //     }\n    //     localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n    //     return cartItems;\n    //   });\n    // };\n\n  //   const handleRemoveFromCart =(e, item)=> {\n  // this.setState(state => {\n  //   const cartItems = state.cartItems.filter(elm => elm.id != item.id);\n  //   localStorage.setItem('cartItems', cartItems);\n  //   return { cartItems: cartItems };\n  // })\n  //   };\n\n    const listProducts = () => {\n        // if (sort !== \"\") {\n        //   products.sort((a, b) =>\n        //     sort === \"lowest\"\n        //       ? a.price > b.price\n        //         ? 1\n        //         : -1\n        //       : a.price < b.price\n        //       ? 1\n        //       : -1\n        //   );\n        // } \n        if (sort !== \"\") {\n          useEffect(() => {\n            products.sort((a, b) =>\n            sort === \"lowest\"\n              ? a.price > b.price\n                ? 1\n                : -1\n              : a.price < b.price\n              ? 1\n              : -1\n          );\n          }, []);\n        }\n        \n        else {\n          products.sort((a, b) => (a.id > b.id ? 1 : -1));\n        }\n        // if (state.size !== \"\") {\n        //   return {\n        //     filteredProducts: state.products.filter(\n        //       a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0\n        //     )\n        //   };\n        // }\n        return { filteredProducts: products };\n    };\n\n    const setHandleChangeSort = (e) => {\n      setSort(e => e.target.value)\n      // this.setState({ sort: e.target.value });\n      this.listProducts();\n    };\n\n  // handleChangeSize = (e) => {\n  //   this.setState({ size: e.target.value });\n  //   this.listProducts();\n  // };\n\n  return (\n    <div>\n      <Banner />\n      <Container>\n        <h1 className=\"homepage-title\">Discover better-for-you Doggos</h1>\n\n        <Row>\n          <Col md={9}>\n            <Filter\n            // size={this.state.size}\n            sort={sort}\n            // handleChangeSize={this.handleChangeSize}\n            setHandleChangeSort={setHandleChangeSort}\n            // count={filteredProducts.length}\n            />\n\n            <hr />\n\n            {/* <HomepageOverview state={state} setState={setState}/> */}\n            <Products\n              filteredProducts={filteredProducts}\n              setFilteredProducts={setFilteredProducts}\n              products={products}\n              setProducts={setProducts}\n              // handleAddToCart={this.handleAddToCart}\n            />\n          </Col>\n\n          <Col>\n            {/* <Basket\n                // cartItems={this.state.cartItems}\n                handleRemoveFromCart={this.handleRemoveFromCart}\n              /> */}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}